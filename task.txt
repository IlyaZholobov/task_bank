Реализовать скрипт загрузки официальных курсов ЦБ РФ в БД,

используя веб-сервис https://cbr.ru/DailyInfoWebServ/DailyInfo.asmx, реализуемый метод - GetCursOnDateXML.

 

Стек - Python 3.10, БД - sqlite.

Обязательные входные параметры для скрипта - дата курса(формат даты - '%d.%m.%Y') и список цифровых кодов валют через запятую.

Предусмотреть:

1) логирование выполнения скрипта с одновременным выводом в файл(название файла соответсвует названию скрипта + '.log') и в стандартный поток вывода(консоль); формат логирования на свое усмотрение.

2) возможность повторного запуска скрипта с загрузкой курсов в ранее созданую БД с сохранением предудыщих загруженных данных и файла логирования;

3) проверки на наличие уже загруженных распоряжений и курсов с игнорированием их к загрузке и с выводом данного факта в лог;

4) после загрузки курсов в БД вывести через функцию print курсы из БД, которые были загружены при текущем запуске скрипта,

            следующую информацию: Номер распоряжения, Дата установки курсов, Валюта, Номинал, Курс"

           

Выполненное задание разместить на github\gitlab и т.п.

Все остальное, о чем тут не упомянуто, реализовывается на свой "вкус".

 

Описание сущностей БД:

1) CURRENCY_ORDER - "Распоряжения о загрузке курсов":

            - id - INT - Номер распоряжения(Первичный ключ);

            - ondate - TEXT - Дата установки курсов ЦБ РФ(Уникальное, обязательное значение);

2) CURRENCY_RATES - "Курсы валют":

            - order_id - INT - Номер распоряжения(Внешний ключ на CURRENCY_ORDER.id );

            - name - TEXT - Наименование валюты(обязательное значение);

            - numeric_code - TEXT - Цифровой код валюты(обязательное значение);

            - alphabetic_code - TEXT - Буквенный код валюты(обязательное значение);

            - scale - INT - Номинал курса(обязательное значение);

            - rate - TEXT - значение курса(обязательное значение);